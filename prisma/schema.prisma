
generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

enum Role{
  User
  Admin
}

model Users {
  id String @default(uuid()) @id
  role Role
  DisplayName String?
  username String @unique
  email String @unique
  Hashpassword String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model category{
  id String @default(uuid()) @id
  name String
  slug String @unique
  createdAt DateTime @default(now()) 
  products product[]
}

model product {
  id String @default(uuid()) @id
  categoryId String
  name String
  prodImage String
  price Decimal
  Sizes Json?
  slug String @unique
  isPublished Boolean @default(true)
  inStock Boolean @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  category category @relation(references: [id], fields: [categoryId], onDelete: Cascade)

  @@index([id,name,prodImage,categoryId,price,Sizes,slug,isPublished,inStock])
}